{
  "id": "96ba90df-cfb4-4e8b-8a59-83da73901760",
  "revision": 0,
  "last_node_id": 43,
  "last_link_id": 48,
  "nodes": [
    {
      "id": 17,
      "type": "PreviewImage",
      "pos": [
        1426.432266276855,
        1345.7364689662413
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 18
        }
      ],
      "outputs": [],
      "title": "渲染结果预览",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 34,
      "type": "PreviewImage",
      "pos": [
        1922.949543959957,
        1337.196989787892
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 35
        }
      ],
      "outputs": [],
      "title": "渲染结果预览",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 32,
      "type": "PreviewImage",
      "pos": [
        2861.7361076568127,
        1336.9296225114167
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 33
        }
      ],
      "outputs": [],
      "title": "渲染结果预览",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 3,
      "type": "AcademicEditor",
      "pos": [
        913.1994851159766,
        646.7293612923023
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            18,
            38
          ]
        },
        {
          "name": "info",
          "type": "STRING",
          "slot_index": 1,
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "AcademicEditor"
      },
      "widgets_values": [
        "Make all lines thinner and cleaner",
        false
      ]
    },
    {
      "id": 36,
      "type": "TransparentSplitter",
      "pos": [
        1984.0081048940629,
        638.2250068168632
      ],
      "size": [
        366.81552734375,
        194
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            33,
            36
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": null
        },
        {
          "name": "info",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "TransparentSplitter"
      },
      "widgets_values": [
        197,
        171,
        0,
        true,
        "crop"
      ]
    },
    {
      "id": 37,
      "type": "ColorRegionSegmenter",
      "pos": [
        1474.0651745926468,
        626.5339114836979
      ],
      "size": [
        376.3447021484375,
        290
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 38
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": []
        },
        {
          "name": "segmented_image",
          "type": "IMAGE",
          "links": [
            35
          ]
        },
        {
          "name": "masked_image",
          "type": "IMAGE",
          "links": [
            34,
            37
          ]
        },
        {
          "name": "info",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ColorRegionSegmenter"
      },
      "widgets_values": [
        0.9,
        95.2,
        23,
        false
      ]
    },
    {
      "id": 33,
      "type": "PreviewImage",
      "pos": [
        2396.3191717930854,
        1342.802302048681
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 34
        }
      ],
      "outputs": [],
      "title": "渲染结果预览",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 10,
      "type": "PreviewAny",
      "pos": [
        336.5525350446096,
        -106.36464861576488
      ],
      "size": [
        758.2734524651737,
        215.05278452167323
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 42
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 35,
      "type": "BatchImageSaver",
      "pos": [
        2545.8027098974085,
        648.6151707819862
      ],
      "size": [
        315.77158203125,
        130
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 36
        }
      ],
      "outputs": [
        {
          "name": "saved_paths",
          "type": "STRING",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "BatchImageSaver"
      },
      "widgets_values": [
        false,
        "output/splits",
        true,
        true
      ]
    },
    {
      "id": 2,
      "type": "AcademicRenderer",
      "pos": [
        376.33848474686647,
        641.743172362479
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "color_scheme_text",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "ref_image_1",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_2",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_3",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_4",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_5",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_6",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_7",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "ref_image_8",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "visual_schema",
          "type": "STRING",
          "widget": {
            "name": "visual_schema"
          },
          "link": 48
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            2,
            17
          ]
        },
        {
          "name": "info",
          "type": "STRING",
          "slot_index": 1,
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "AcademicRenderer"
      },
      "widgets_values": [
        "",
        713794933,
        "randomize"
      ]
    },
    {
      "id": 16,
      "type": "PreviewImage",
      "pos": [
        820.7056163948781,
        1341.57500852163
      ],
      "size": [
        400,
        350
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 17
        }
      ],
      "outputs": [],
      "title": "渲染结果预览",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 41,
      "type": "AcademicArchitect",
      "pos": [
        -198.87889739136992,
        357.2992451071676
      ],
      "size": [
        400,
        302
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "visual_schema",
          "type": "STRING",
          "links": [
            42,
            48
          ]
        },
        {
          "name": "color_scheme_text",
          "type": "STRING",
          "links": null
        },
        {
          "name": "full_prompt",
          "type": "STRING",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "AcademicArchitect"
      },
      "widgets_values": [
        "帮我绘制一个哈基米的架构图",
        false,
        "Linear Pipeline",
        3,
        "柔和马卡龙",
        0,
        ""
      ]
    }
  ],
  "links": [
    [
      2,
      2,
      0,
      3,
      0,
      "IMAGE"
    ],
    [
      17,
      2,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      18,
      3,
      0,
      17,
      0,
      "IMAGE"
    ],
    [
      33,
      36,
      0,
      32,
      0,
      "IMAGE"
    ],
    [
      34,
      37,
      2,
      33,
      0,
      "IMAGE"
    ],
    [
      35,
      37,
      1,
      34,
      0,
      "IMAGE"
    ],
    [
      36,
      36,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      37,
      37,
      2,
      36,
      0,
      "IMAGE"
    ],
    [
      38,
      3,
      0,
      37,
      0,
      "IMAGE"
    ],
    [
      42,
      41,
      0,
      10,
      0,
      "STRING"
    ],
    [
      48,
      41,
      0,
      2,
      9,
      "STRING"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "学术插图工作流 - Architect → Renderer → Editor (支持多图参考)",
      "bounding": [
        -161.2279955319474,
        207.21372003521967,
        1530.7327062098143,
        854.4771512162763
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "学术插图工作流 - 将图片拆解为元件",
      "bounding": [
        1394.071155899922,
        212.67093316534232,
        1644.0803021922225,
        875.5756196420641
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "参考图片 (连接到 ref_image 的输入)",
      "bounding": [
        -147.04834469089107,
        691.271930798132,
        440.00000000000006,
        332
      ],
      "color": "#8AA",
      "font_size": 18,
      "flags": {}
    },
    {
      "id": 4,
      "title": "输出结果",
      "bounding": [
        -159.802696055567,
        1101.8971837542167,
        3788.6270524444294,
        890.7807856316983
      ],
      "color": "#b06634",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.8390545288824252,
      "offset": [
        687.8934762020152,
        28.03523504246556
      ]
    },
    "workflowRendererVersion": "LG",
    "frontendVersion": "1.34.8"
  },
  "version": 0.4
}